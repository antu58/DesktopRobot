# Soul 标准通信协议 v2（引用全局协议）

更新时间：2026-02-20  
状态：`实施中（Phase 1）`

## 1. 单一协议来源（Source of Truth）

Soul 与 Body 共用的通信协议已抽出为全局文档：

- `../../doc/通信协议-v2.md`

本文件不再维护完整字段定义，仅保留 Soul 侧实现差异与落地说明，避免双份口径漂移。

## 2. Soul 当前实现差异（Phase 1）

- `POST /v1/chat` 仅处理 `inputs[].type=keyboard_text` 作为主输入。
- 请求必须包含 `inputs[]`，并至少有一条非空 `keyboard_text`。
- 非 `keyboard_text` 输入当前会写入 observation（用于后续扩展），但不参与本轮主回复推理。
- 服务端技能来源于 MQTT `skills` 快照，不从业务库持久化技能定义。

## 3. 相关文档

- 全局协议：`../../doc/通信协议-v2.md`
- Soul 专属 API：`API文档-Soul服务.md`
- Soul 联调场景：`API文档-场景化.md`
- 目标方案：`目标方案-实时对话与异步记忆.md`
- 验收清单：`需求细节与验收清单.md`
